(this["webpackJsonpheroscape-simulator"]=this["webpackJsonpheroscape-simulator"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"skull":"\ud83d\udc80","shield":"\u26e8","blank":" "}')},17:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),s=n(10),c=n.n(s),o=(n(8),n(2)),r=n(3),i=n(5),u=n(4),d=n(9),h=n(6);function b(e,t){for(var n=[],a=0;a<e;a++)n.push(Math.floor(Math.random()*t)+1);return n}function j(e,t){var n=0;return null===e||void 0===e||e.forEach((function(e){t.includes(e)&&n++})),n}function m(e,t){return j(e,h.ATTACK_HITS)-j(t,h.DEFENCE_HITS)}var v=n(11),p=n(0),f=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={},h.ATTACK_HITS.includes(a.props.value)?(a.side="skull",a.borderColor="attack"===a.props.diceType?"red":"black"):h.DEFENCE_HITS.includes(a.props.value)?(a.side="shield",a.borderColor="defence"===a.props.diceType?"blue":"black"):(a.side="blank",a.borderColor="black"),a.symbol=v[a.side],a}return Object(r.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"unit-container post-spaced square-die ".concat(this.borderColor,"-border"),children:this.symbol})}}]),n}(a.Component),g=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleRollsAmountChange=function(e){a.setState({rollsAmount:e.target.value})},a.handleAttackAmountChange=function(e){a.setState({attackAmount:e.target.value})},a.handleDefenceAmountChange=function(e){a.setState({defenceAmount:e.target.value})},a.handleHistoryLengthChange=function(e){a.setState({historyLength:e.target.value})},a.handleRunSingleBattleClick=function(){a.runSingleBattle()},a.handleRunBattlesClick=function(){for(var e=0;e<a.state.rollsAmount;e++)a.runSingleBattle()},a.state={rollsAmount:10,attackAmount:3,defenceAmount:3,historyLength:3,singleBattleDamage:0},a.rollHistory=[],a}return Object(r.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Heroscape Simulator"}),Object(p.jsxs)("div",{className:"container-row",children:[Object(p.jsxs)("div",{className:"unit-container",children:[Object(p.jsx)("h3",{className:"label",children:"Rolls:"}),Object(p.jsx)("input",{id:"rollsAmount",className:"input-parameter",type:"number",value:this.state.rollsAmount,onChange:this.handleRollsAmountChange})]}),Object(p.jsxs)("div",{className:"unit-container red-border",children:[Object(p.jsx)("h3",{className:"label",children:"Attack:"}),Object(p.jsx)("input",{id:"attackAmount",className:"input-parameter",type:"number",value:this.state.attackAmount,onChange:this.handleAttackAmountChange})]}),Object(p.jsxs)("div",{className:"unit-container blue-border",children:[Object(p.jsx)("h3",{className:"label",children:"Defence:"}),Object(p.jsx)("input",{id:"defenceAmount",className:"input-parameter",type:"number",value:this.state.defenceAmount,onChange:this.handleDefenceAmountChange})]}),Object(p.jsxs)("div",{className:"unit-container",children:[Object(p.jsx)("h3",{className:"label",children:"History Length:"}),Object(p.jsx)("input",{id:"historyLength",className:"input-parameter",type:"number",value:this.state.historyLength,onChange:this.handleHistoryLengthChange})]})]}),Object(p.jsxs)("div",{className:"container-row",children:[Object(p.jsx)("button",{id:"run-single-battle-button",className:"button-control",type:"button",onClick:this.handleRunSingleBattleClick,children:"Run single battle"}),Object(p.jsx)("button",{hidden:!0,id:"run-battles-button",className:"button-control",type:"button",onClick:this.handleRunBattlesClick,children:"Run battles"})]}),this.renderRoll(this.state.attackRoll,this.state.defenceRoll,"currentRoll",!0),Object(p.jsx)("div",{className:"spacer"}),Object(p.jsx)("div",{className:"spacer"}),this.renderPreviousRolls()]})}},{key:"runSingleBattle",value:function(){var e,t;console.log("meow");var n,a,l=(n=this.state.attackAmount,a=this.state.defenceAmount,{attackRoll:b(n,6),defenceRoll:b(a,6)}),s=l.attackRoll,c=l.defenceRoll;return this.rollHistory.unshift({attackRoll:Object(d.a)(null!==(e=this.state.attackRoll)&&void 0!==e?e:[]),defenceRoll:Object(d.a)(null!==(t=this.state.defenceRoll)&&void 0!==t?t:[])}),this.rollHistory.length>this.state.historyLength&&(this.rollHistory=this.rollHistory.slice(0,this.state.historyLength)),this.setState({attackRoll:s,defenceRoll:c}),m(s,c)}},{key:"renderRoll",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=m(e,t);return(null===e||void 0===e?void 0:e.length)>0||(null===t||void 0===t?void 0:t.length)>0?Object(p.jsxs)("div",{className:"container-row unit-container side-spaced no-border ".concat(a?"":"no-background"),children:[Object(p.jsx)("div",{className:"container-row row-double-spaced leading-list",children:this.displayDice("attack",e)}),Object(p.jsx)("div",{className:"label row-auto-spaced",children:"--\x3e"}),Object(p.jsx)("div",{className:"container-row row-double-spaced leading-list",children:this.displayDice("defence",t)}),Object(p.jsx)("h3",{className:"label",children:"Damage:"}),Object(p.jsx)("p",{className:"result-value",children:l<0?0:l})]},n):null}},{key:"renderPreviousRolls",value:function(){var e=this;return console.log(this.rollHistory),this.rollHistory.map((function(t,n){return e.renderRoll(t.attackRoll,t.defenceRoll,"previousRoll-".concat(n))}))}},{key:"displayDice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.forEach((function(t,a){n.push(Object(p.jsx)(f,{diceType:e,value:t},"".concat(a,"-").concat(e,"-").concat(t)))})),n}}]),n}(a.Component),O=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={result:""},e}return Object(r.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"component-body",children:Object(p.jsx)(g,{})})})}}]),n}(a.Component),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),l(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(l.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root")),k()},6:function(e){e.exports=JSON.parse('{"ATTACK_HITS":[1,3,5],"DEFENCE_HITS":[2,4]}')},8:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.53e60f97.chunk.js.map